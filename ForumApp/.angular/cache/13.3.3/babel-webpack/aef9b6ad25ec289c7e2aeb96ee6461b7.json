{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\molot\\\\source\\\\repos\\\\ForumWebAPI\\\\ForumApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { AddThemeModel } from 'src/app/models/AddThemeModel';\nlet AddthemecomponentComponent = class AddthemecomponentComponent {\n  constructor(_activatedRoute, themeService, toastr, route, subSectionService) {\n    this._activatedRoute = _activatedRoute;\n    this.themeService = themeService;\n    this.toastr = toastr;\n    this.route = route;\n    this.subSectionService = subSectionService;\n    this.themeForm = new FormGroup({\n      name: new FormControl('', [Validators.required, Validators.minLength(3)]),\n      content: new FormControl('', [Validators.required, Validators.minLength(3)])\n    });\n  }\n\n  ngOnInit() {\n    this._activatedRoute.paramMap.subscribe(params => {\n      this.subSectionId = Number(params.get('id'));\n    });\n\n    this.subSectionService.getSubSections().subscribe(data => {\n      data.forEach(element => {\n        if (element.sectionId == this.subSectionId) {\n          this.subSection = element;\n        }\n      });\n    }), err => {\n      //When unsuccessful, this will run\n      console.error('Something broke!', err);\n    };\n  }\n\n  AddTheme(theme) {\n    var _this = this;\n\n    let newTheme = new AddThemeModel(theme.value.name, theme.value.content, this.subSectionId);\n    this.themeService.postAddTheme(newTheme).subscribe( /*#__PURE__*/_asyncToGenerator(function* () {\n      _this.toastr.success(\"\", \"Succesful adding new theme\", {\n        timeOut: 2000,\n        progressBar: true,\n        progressAnimation: 'increasing'\n      });\n\n      yield new Promise(f => setTimeout(f, 1200));\n\n      _this.route.navigate(['']);\n    }), error => {\n      this.toastr.error(\"Error while adding theme\");\n    });\n  }\n\n};\nAddthemecomponentComponent = __decorate([Component({\n  selector: 'app-addthemecomponent',\n  templateUrl: './addthemecomponent.component.html',\n  styleUrls: ['./addthemecomponent.component.css']\n})], AddthemecomponentComponent);\nexport { AddthemecomponentComponent };","map":{"version":3,"sources":["C:/Users/molot/source/repos/ForumWebAPI/ForumApp/src/app/components/addthemecomponent/addthemecomponent.component.ts"],"names":["__decorate","Component","FormControl","FormGroup","Validators","AddThemeModel","AddthemecomponentComponent","constructor","_activatedRoute","themeService","toastr","route","subSectionService","themeForm","name","required","minLength","content","ngOnInit","paramMap","subscribe","params","subSectionId","Number","get","getSubSections","data","forEach","element","sectionId","subSection","err","console","error","AddTheme","theme","newTheme","value","postAddTheme","success","timeOut","progressBar","progressAnimation","Promise","f","setTimeout","navigate","selector","templateUrl","styleUrls"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { AddThemeModel } from 'src/app/models/AddThemeModel';\r\nlet AddthemecomponentComponent = class AddthemecomponentComponent {\r\n    constructor(_activatedRoute, themeService, toastr, route, subSectionService) {\r\n        this._activatedRoute = _activatedRoute;\r\n        this.themeService = themeService;\r\n        this.toastr = toastr;\r\n        this.route = route;\r\n        this.subSectionService = subSectionService;\r\n        this.themeForm = new FormGroup({\r\n            name: new FormControl('', [Validators.required, Validators.minLength(3)]),\r\n            content: new FormControl('', [Validators.required, Validators.minLength(3)])\r\n        });\r\n    }\r\n    ngOnInit() {\r\n        this._activatedRoute.paramMap.subscribe(params => {\r\n            this.subSectionId = Number(params.get('id'));\r\n        });\r\n        this.subSectionService.getSubSections()\r\n            .subscribe((data) => {\r\n            data.forEach(element => {\r\n                if (element.sectionId == this.subSectionId) {\r\n                    this.subSection = element;\r\n                }\r\n            });\r\n        }), (err) => {\r\n            //When unsuccessful, this will run\r\n            console.error('Something broke!', err);\r\n        };\r\n    }\r\n    AddTheme(theme) {\r\n        let newTheme = new AddThemeModel(theme.value.name, theme.value.content, this.subSectionId);\r\n        this.themeService.postAddTheme(newTheme).subscribe(async () => {\r\n            this.toastr.success(\"\", \"Succesful adding new theme\", { timeOut: 2000, progressBar: true, progressAnimation: 'increasing' });\r\n            await new Promise(f => setTimeout(f, 1200));\r\n            this.route.navigate(['']);\r\n        }, error => {\r\n            this.toastr.error(\"Error while adding theme\");\r\n        });\r\n    }\r\n};\r\nAddthemecomponentComponent = __decorate([\r\n    Component({\r\n        selector: 'app-addthemecomponent',\r\n        templateUrl: './addthemecomponent.component.html',\r\n        styleUrls: ['./addthemecomponent.component.css']\r\n    })\r\n], AddthemecomponentComponent);\r\nexport { AddthemecomponentComponent };\r\n"]},"metadata":{},"sourceType":"module"}